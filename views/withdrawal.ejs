<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
  <style>
    .container {
      max-width: 500px;
      position: absolute;
      top: 45%;
      left: 50%;
      transform: translate(-50%, -50%);
      padding: 20px;
    }

    .input-field-container {
      display: flex;
      align-items: center;
    }

    .input-field {
      flex: 1;
    }

    .button-container {
      margin-left: 10px;
      /* 버튼 간격을 조절합니다. */
    }

    .center-align {
      margin-top: 30px;
    }
  </style>
</head>

<body>
  <div class="container">
    <h2>회원 탈퇴</h2>
    <form action="/api/user/?_method=delete" method="post">
      <!-- <input type="hidden" name="_method" value="delete" /> -->

      <div class="input-field-container">
        <div class="input-field">
          <h6 id="userNickName">
          </h6>
        </div>
      </div>

      <div class="input-field">
        <input type="password" id="password" name="password" required />
        <label for="password">비밀번호</label>
      </div>

      <div class="center-align">
        <button type="submit" class="btn grey darken-3" id="signup" style="width: 200px; margin: 5px;">회원 탈퇴하기</button>
        <button class="btn grey darken-3" id="back" style="width: 200px; margin: 5px;"><a
            href="/user/mypage">돌아가기</a></button>
      </div>
    </form>
  </div>

  <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

  <script>
    fetch('/api/user/me')
      .then(response => response.json())
      .then(data => {
        console.log(data.data)
        const nickName = document.getElementById('userNickName')
        nickName.innerHTML = `${data.data.nickName} 님 충분한 생각을 하셨나요?.`

      }).catch(error => console.log(error))
  </script>
</body>

</html>